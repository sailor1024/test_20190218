webpackJsonp([29],{YBgx:function(t,e){},secW:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),n=s("exGp"),r=s.n(n),c=s("+CDu"),o=s("cWLO"),p=s("L6bb"),l=s.n(p),d={components:{textInput:c.a},data:function(){return{eye_isDisable:!1,lastname:"",famailname:"",phone:"",upwd:"",cpwd:"",address:""}},created:function(){},methods:{eyeDisable:function(){this.eye_isDisable?this.eye_isDisable=!1:this.eye_isDisable=!0},toLoginExist:function(){this.$router.push("/account/loginExists")},testPhone:function(){var t=this;if(!/^1[0-9]{10}$/.test(this.phone))return this.$Message.error("手机号格式不正确"),!1;this.$http.post("index2/login/has_phone",{phone:l()(this.phone)},{isNeedToken:!1}).then(function(e){200!==e.data.code&&t.$Message.error("手机号已被注册")})},registerfunc:function(){var t=this,e=/^([\u4e00-\u9fa5]{1,4})$|^([a-zA-Z]{1,32})$/;return""===this.lastname?(this.$Message.error("请输入姓氏"),!1):e.test(this.lastname)?""===this.famailname?(this.$Message.error("请输入名字"),!1):e.test(this.famailname)?""===this.phone?(this.$Message.error("请输入手机号"),!1):/^1[0-9]{10}$/.test(this.phone)?""===this.upwd?(this.$Message.error("请输入密码"),!1):this.upwd.length<8?(this.$Message.error("请输入至少8位数的密码"),!1):this.upwd.length>16?(this.$Message.error("请输入不超过16位数的密码"),!1):/^[\w@0-9]{8,16}$/.test(this.upwd)?""===this.cpwd?(this.$Message.error("请重复密码"),!1):this.upwd!==this.cpwd?(this.$Message.error("两次输入密码不一致"),!1):void r()(i.a.mark(function e(){var s,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("index2/login/has_phone",{phone:l()(t.phone)},{isNeedToken:!1});case 2:if(200===(s=e.sent).data.code){e.next=7;break}t.$Message.error(s.data.message),e.next=11;break;case 7:return e.next=9,t.$http.post("index2/login/company_register",{lastname:t.lastname,firstname:t.famailname,decrypt_phone:Object(o.a)(t.phone),password:l()(t.upwd),company_name:t.address.replace(/(^\s*)|(\s*$)/g,"")},{isNeedToken:!1});case 9:200===(a=e.sent).data.code?(t.$Message.success("注册成功"),t.$router.push({path:"/account",name:"accountLogin"})):201===a.data.code?t.$Message.error("注册用户失败"):202===a.data.code?t.$Message.error("公司注册失败"):t.$Message.error(a.data.message);case 11:case"end":return e.stop()}},e,t)}))():(this.$Message.error("密码格式不正确"),!1):(this.$Message.error("手机号格式不正确"),!1):(this.$Message.error("名字格式不正确"),!1):(this.$Message.error("姓氏格式不正确"),!1)}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account-registerBox"},[s("div",{staticClass:"account-register"},[s("h1",{staticClass:"account-title"},[t._v("\n    创建你的账号\n  ")]),t._v(" "),s("div",{staticClass:"register-accountname account-form"},[s("div",{staticStyle:{display:"flex"}},[s("text-input",{staticStyle:{"margin-right":"8px"},attrs:{label:"姓氏"}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.lastname,expression:"lastname",modifiers:{trim:!0}}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"text"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value.trim())},blur:function(e){t.$forceUpdate()}},slot:"cw-input-0609"})]),t._v(" "),s("text-input",{staticStyle:{"margin-left":"8px"},attrs:{label:"名字"}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.famailname,expression:"famailname",modifiers:{trim:!0}}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"text"},domProps:{value:t.famailname},on:{input:function(e){e.target.composing||(t.famailname=e.target.value.trim())},blur:function(e){t.$forceUpdate()}},slot:"cw-input-0609"})])],1)]),t._v(" "),s("div",{staticClass:"register-phone account-form"},[s("text-input",{attrs:{label:"手机号码"}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.phone,expression:"phone",modifiers:{trim:!0}}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value.trim())},blur:function(e){t.$forceUpdate()}},slot:"cw-input-0609"})]),t._v(" "),s("text-input",{staticStyle:{"margin-top":"5px"},attrs:{label:"公司名称(选填)"}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.address,expression:"address",modifiers:{trim:!0}}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value.trim())},blur:function(e){t.$forceUpdate()}},slot:"cw-input-0609"})])],1),t._v(" "),s("div",{staticClass:"register-passwd account-form"},[s("div",{staticStyle:{display:"flex"}},[s("text-input",{staticStyle:{flex:"4","margin-right":"8px"},attrs:{label:"输入密码"}},["checkbox"==(t.eye_isDisable?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.upwd,expression:"upwd"}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"checkbox"},domProps:{checked:Array.isArray(t.upwd)?t._i(t.upwd,null)>-1:t.upwd},on:{change:function(e){var s=t.upwd,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.upwd=s.concat([null])):n>-1&&(t.upwd=s.slice(0,n).concat(s.slice(n+1)))}else t.upwd=i}},slot:"cw-input-0609"}):"radio"==(t.eye_isDisable?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.upwd,expression:"upwd"}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"radio"},domProps:{checked:t._q(t.upwd,null)},on:{change:function(e){t.upwd=null}},slot:"cw-input-0609"}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.upwd,expression:"upwd"}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:t.eye_isDisable?"text":"password"},domProps:{value:t.upwd},on:{input:function(e){e.target.composing||(t.upwd=e.target.value)}},slot:"cw-input-0609"})]),t._v(" "),s("text-input",{staticStyle:{flex:"4","margin-left":"8px"},attrs:{label:"重复密码"}},["checkbox"==(t.eye_isDisable?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.cpwd,expression:"cpwd"}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"checkbox"},domProps:{checked:Array.isArray(t.cpwd)?t._i(t.cpwd,null)>-1:t.cpwd},on:{change:function(e){var s=t.cpwd,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.cpwd=s.concat([null])):n>-1&&(t.cpwd=s.slice(0,n).concat(s.slice(n+1)))}else t.cpwd=i}},slot:"cw-input-0609"}):"radio"==(t.eye_isDisable?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.cpwd,expression:"cpwd"}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:"radio"},domProps:{checked:t._q(t.cpwd,null)},on:{change:function(e){t.cpwd=null}},slot:"cw-input-0609"}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.cpwd,expression:"cpwd"}],staticClass:"cw-dc-input",attrs:{slot:"cw-input-0609",type:t.eye_isDisable?"text":"password"},domProps:{value:t.cpwd},on:{input:function(e){e.target.composing||(t.cpwd=e.target.value)}},slot:"cw-input-0609"})]),t._v(" "),s("Button",{staticStyle:{flex:"1",width:"48px",height:"48px",position:"relative"},attrs:{shape:"circle",icon:t.eye_isDisable?"eye":"eye-disabled"},on:{click:t.eyeDisable}})],1),t._v(" "),s("div",{staticClass:"register-passwd-tips"},[t._v(" 使用8到16个字符（字母、数字和符号的组合）")])]),t._v(" "),s("div",{staticClass:"account-utilities"},[s("div",{staticClass:"account-utilities-left"},[s("a",{staticStyle:{"padding-top":"19px",display:"inline-block"},attrs:{href:"javascript;"},on:{click:function(e){e.preventDefault(),t.toLoginExist()}}},[t._v("登录现有账号")])]),t._v(" "),s("div",{staticClass:"account-utilities-right"},[s("button",{staticClass:"c-button c-button__primary--radius",staticStyle:{width:"174px"},on:{click:function(e){e.stopPropagation(),t.registerfunc()}}},[t._v("完成")])])])])])},staticRenderFns:[]};var m=s("VU/8")(d,u,!1,function(t){s("YBgx")},"data-v-16c4d0e4",null);e.default=m.exports}});