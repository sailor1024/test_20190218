function addLabel(t,e){$("#"+t).css({left:e.x+"px",top:e.y+"px"})}var staticViewDirection,staticViewDirectionY,deviationViewDirection,deviationViewDirectionY,totalDeviation;function creatLabel(){for(var t=0;t<modelData.tags.length;t++){var a=document.createElement("img");a.setAttribute("id",modelData.tags[t].sid),a.setAttribute("class","label"),a.setAttribute("src",modelData.tags[t].icon),a.setAttribute("dataSource",modelData.tags[t].url),a.setAttribute("type",modelData.tags[t].type),a.setAttribute("title",modelData.tags[t].label),a.setAttribute("goIndex",modelData.tags[t].goIndex),a.setAttribute("goAngle",modelData.tags[t].goAngle),a.setAttribute("position",JSON.stringify(modelData.tags[t].position)),document.body.appendChild(a),$(a).bind("click",function(t){var e=this;"iframe"==$(this).attr("type")?($("#labelImg")[0].src="",$("#labelVideo")[0].src="",$("#labelIframe")[0].style.display="block",$("#labelImg")[0].style.display="none",$("#labelVideo")[0].style.display="none",setTimeout(function(){$("#labelIframe")[0].src=$(e).attr("dataSource")},1500)):"img"==$(this).attr("type")?($("#labelImg")[0].src=$(this).attr("dataSource"),$("#labelIframe")[0].src="",$("#labelVideo")[0].src="",$("#labelImg")[0].style.display="block",$("#labelIframe")[0].style.display="none",$("#labelVideo")[0].style.display="none",setTimeout(function(){$("#labelImg")[0].src=$(e).attr("dataSource")},1500)):"video"==$(this).attr("type")&&($("#labelIframe")[0].src="",$("#labelImg")[0].src="",$("#labelVideo")[0].style.display="block",$("#labelIframe")[0].style.display="none",$("#labelImg")[0].style.display="none",setTimeout(function(){$("#labelVideo")[0].src=$(e).attr("dataSource"),$("#labelVideo")[0].play()},1500)),setWalkingViewPoint($(this).attr("goIndex"),new THREE.Quaternion($(this).attr("goAngle").split(",")[0],$(this).attr("goAngle").split(",")[1],$(this).attr("goAngle").split(",")[2],$(this).attr("goAngle").split(",")[3])),setTimeout(function(){$("#labelBoard").fadeIn()},1e3),staticViewDirection=getViewDirection(),staticViewDirectionY=getViewDirectionY(),changeTransform(a.id)})}}function changeTransform(t){$("#labelBoard").css({opacity:"1"}),$(".Css3dRenderer").css({transform:"none"}),document.body.addEventListener("touchstart",function(e){$(".FlexEmbed-mask").css("display","block"),document.body.addEventListener("touchmove",function(t){$("#labelBoard").css({opacity:1-Math.abs((t.touches[0].clientX-e.touches[0].clientX+t.touches[0].clientY-e.touches[0].clientY)/800),transform:"perspective(500px)","transform-style":"preserve-3d"}),$(".Css3dRenderer").css({transform:"rotatey("+-15*(t.touches[0].clientX-e.touches[0].clientX)/800+"deg) rotatex("+55*(t.touches[0].clientY-e.touches[0].clientY)/800+"deg)"})})}),document.body.addEventListener("touchend",function(){$("body").unbind("mousemove")}),$(".IconButton--close").click(function(){$("#labelVideo")[0].src="",$("#labelIframe")[0].src="",$("#labelImg")[0].src="",$("#labelBoard").fadeOut()})}